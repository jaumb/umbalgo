<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>D3 Test</title>
    <script type="text/javascript" src="scripts/d3.v3.js"></script>
    <script type="text/javascript" src="scripts/vizlib.js"></script>
  </head>
  <body>
    <div class="chart-container" style="max-width: 1000px;"></div>
    <script type="text/javascript">
      var l = [];
      for (var i = 1; i <= 10; i++) {
        l.push(i);
      }
      d3.shuffle(l);
      // var l = [5,4,3,2,1];
      vizlib.initialize(l, document.querySelector('.chart-container'));

      // colors
      var bg_color = '#eeeeee';
      var sorted_color = '#a0c9e4';
      var min_color = '#f79fb0';
      var compare_color = '#e4cc55'

      // insertion sort implementation
      vizlib.min_change_color(min_color);
      var sorted = [];
      var n = l.length;
      for (var i = 0; i < n; i++) {
        for (var j = i + 1; j < n; j++) {
          var min = i;
          vizlib.move_min(i);
          vizlib.change_min(i);
          vizlib.move_min(j);
          vizlib.array_change_color([j], compare_color);
          if (l[j] < l[min]) {
            vizlib.array_change_color([j], min_color);
            min = j;
            vizlib.change_min(j);
          }
          var tmp = l[i];
          l[i] = l[min];
          l[min] = tmp;
          vizlib.array_swap(i, min);
          vizlib.array_change_color([j], bg_color);
        }
        sorted.push(i);
        vizlib.array_change_color(sorted, sorted_color);
      }

    </script>
  </body>
</html>
