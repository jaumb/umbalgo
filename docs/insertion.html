<!DOCTYPE html>
<html>
  <head>
    <title>Insertion Sort</title>
    <style type="text/css">
      body {
        width:960px;
        margin:10px auto;
      }
      rect {
        stroke:darkgreen;
        stroke-width:3px;
      }
      line {
        stroke-width:3px;
      }
      #insertionsvg g text:hover, #insertionsvg g rect:hover {
        cursor:pointer;
      }
      #navdiv {
        background:#555;
      }
      #insertionsvg {
        border:2px solid grey;
      }
      #navdiv button, #navdiv textarea {
        vertical-align:middle;
      }
      #g_labels text {
        text-anchor:middle;
        font-family:'Verdana';
      }
    </style>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
    <script type="text/javascript" src="insertion.js"></script>
    <script type="text/javascript" src="js/libs/runner/runner.js"></script>
    <script type="text/javascript">
      let vm = new VirtualMachine();
      vm.loadFunc("exch.js");
      vm.loadFunc("less.js");
      vm.loadFunc("2.1-insertion-sort.js");

      const onInvoke = function() {
        let a = [86, 71, 10, 75, 73, 64, 87, 23, 41];
        vm.visualization = insertionSortViz(a);
        vm.visualization.highlight([0]);
        vm.visualization.unhighlight([0]);
        vm.visualization.updateBoundary(0);
        console.log("Input: " + a);
        vm.invokeFunc("sort", function(result) { console.log("Result: " + a); }, a);
      };

      const onNext = function() {
        vm.next();
      };
    </script>
  </head>
  <body>
    <button type="button" onclick="onInvoke()">invoke</button>
    <button type="button" onclick="onNext()">next</button>
    <div style="border:1px" id="codeNote">
      <!-- Dynamically generated note will be inserted here -->
    </div>
    <pre>
      <code id="codePane">
        <!-- Dynamically generated code pane will be inserted here -->
      </code>
    </pre>
  </body>
</html>
