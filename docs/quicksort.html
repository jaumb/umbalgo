<!DOCTYPE html>
<html>
  <head>
    <title>Quick Sort</title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
    <script type="text/javascript" src="js/libs/runner/runner.js"></script>
    <script type="text/javascript">
      let vm = new VirtualMachine();
      vm.loadFunc("exch.js");
      vm.loadFunc("less.js");
      vm.loadFunc("2.3-quicksort-sort.js");
      vm.loadFunc("2.3-quicksort-partition.js");

      const onInvoke = function() {
        let a = [86, 71, 10, 75, 73, 64, 87, 23, 41];
        console.log("Input: " + a);
        vm.invokeFunc(
          "sort",
          function(result) { console.log("Result: " + a); },
          a,
          0,
          a.length - 1);
      };

      const onNext = function() {
        vm.next();
      };
    </script>
  </head>
  <body>
    <button type="button" onclick="onInvoke()">invoke</button>
    <button type="button" onclick="onNext()">next</button>
    <div id="codeNote">
      <!-- Dynamically generated note will be inserted here -->
    </div>
    <pre>
      <code id="codePane">
        <!-- Dynamically generated code pane will be inserted here -->
      </code>
    </pre>
    <table border="1">
      <tr>
        <td><h3>Stack</h3></td>
        <td><h3>Locals</h3></td>
        <td><h3>Arguments</h3></td>
      <tr>
        <td>
          <div id="stackPane">
            <!-- Dynamically generated stack trace will be inserted here -->
          </div>
        </td>
        <td>
          <div id="localsPane">
            <!-- Dynamically generated stack trace will be inserted here -->
          </div>
        </td>
        <td>
          <div id="argsPane">
            <!-- Dynamically generated stack trace will be inserted here -->
          </div>
        </td>
      </tr>
    </table>
  </body>
</html>
